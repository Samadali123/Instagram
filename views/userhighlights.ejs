
<% include ./partials/header.ejs %>

<div class="container relative w-full  h-full ">
    <!-- Top navigation bar -->
    <div  class="top fixed top-[5%] z-[999] w-full flex justify-between px-5">
        <div class="left flex gap-3 items-center">
            <a href="/activity"><i class="ri-arrow-left-line text-2xl"></i></a>
            <p class="font-medium text-xl">Highlights</p>
        </div>
    </div>

    <!-- Stories container -->
      <% if(loginuser.myStories.length > 0){  %>
        <div class="highlights-container overflow-y-auto pt-16 px-5 flex  flex-wrap w-full h-[calc(100%-4rem)]">
            <% loginuser.highlights.forEach(function(elem){ %>
                <div id="highlight" data-id="<%= elem._id %>" class="highlight relative cursor-pointer w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/5 h-60 rounded-md overflow-hidden m-2">
                    <div class="story relative w-full h-full overflow-hidden">
                        <img class="w-full h-full object-cover" src="/images/uploads/<%= elem.coverphoto %>" alt="">
                    </div>
                </div>
            <% }) %>
        </div>
     <%  }  else{  %>
          <h3 class="flex w-full h-[80vh] justify-center items-center px-5">You don't have enough Highlights to Show..</h3>

    <% }  %>
</div>

<% include ./partials/footer.ejs %>

<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.6.7/axios.min.js" integrity="sha512-NQfB/bDaB8kaSXF8E77JjhHG5PM6XVRxvHzkZiwl3ddWCEPBa23T76MuWSwAJdMGJnmQqM0VeY9kFszsrBEFrQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js" integrity="sha512-7eHRwcbYkK4d9g/6tD/mhkf++eoTHwpNM9woBxtPUBWm67zeAfFC+HrdoE2GanKeocly/VxeLvIqwvCdk7qScg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script>


let id; 
document.querySelector(".highlights-container").addEventListener("click", function(event) {
    let highlightElement = event.target.closest('.highlight');
    if (highlightElement) {
      id =   highlightElement.dataset.id
      
      window.location.href = `/user/highlights/${id}/${0}`;
      
    }
});


</script>



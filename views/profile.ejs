<% include ./partials/header.ejs %>
    <div class="w-full  min-h-full bg-zinc-900 text-white py-5">
        <div class="nav flex justify-between items-center px-4">
            <h3 class="text-lg">
                <%= loginuser.username %>
            </h3>
            <div class="icons flex gap-5">
                <a href="/upload"><i class="text-[1.4rem] ri-add-box-line"></i></a>
                <i class="text-[1.4rem] ri-menu-line"></i>
            </div>
        </div>
        <div class="flex justify-between items-center pl-6 pr-[12vw] mt-8">

            <% if(loginuser.stories.length > 0){  %>
                <a class="cursor-pointer" href="/story/<%= loginuser._id %>/0">
                    <div class="w-[19vw] h-[19vw] bg-sky-100 gradient bg-sky-100 overflow-hidden rounded-full bg-gradient-to-r from-purple-700 to-orange-500 flex items-center justify-center ">
                        <div class="inner w-[92%] h-[92%] rounded-full overflow-hidden">
                            <img class="w-full h-full object-center object-cover rounded-full " src="/images/uploads/<%= loginuser.profile %> " alt="">
                        </div>
                    </div>
                </a>
                <%   }  else { %>
                    <div class="w-[19vw] h-[19vw] bg-sky-100  bg-sky-100 overflow-hidden ">
                        <div class="inner w-[99%] h-[99%] rounded-full overflow-hidden">
                            <img class="w-full h-full object-center object-cover rounded-full " src="/images/uploads/<%= loginuser.profile %> " alt="">
                        </div>
                    </div>
                    <%  } %>


                        <div class="stats flex gap-5 items-center justify-between">
                            <div class="flex flex-col items-center justify-center">
                                <h3>
                                    <%= loginuser.posts.length %>
                                </h3>
                                <h4>Posts</h4>
                            </div>
                            <div class="flex flex-col items-center justify-center">
                                <h3>
                                    <%= loginuser.followers.length %>
                                </h3>
                                <h4>Followers</h4>
                            </div>
                            <div class="flex flex-col items-center justify-center">
                                <h3>
                                    <%= loginuser.following.length %>
                                </h3>
                                <h4>Following</h4>
                            </div>
                        </div>
        </div>
        <div class="dets px-6 mt-5">
            <h3 class="text-lg mb-1">
                <%= loginuser.fullname %>
            </h3>
            <p class="text-xs tracking-tight opacity-50">
                <%= loginuser.bio ?? 'Add a bio' %>
            </p>
        </div>
        <div class="px-6 mt-5">
            <a class="px-3 py-2 bg-zinc-800 text-xs rounded-md" href="/edit">Edit Profile</a>
        </div>
        <div class="posts w-full flex gap-1 py-2 mt-5 flex-wrap">
            <% if(loginuser.posts.length > 0){  %>

                <% loginuser.posts.forEach(function(elem){ %>

                    <div class="post w-[32.5%] h-32 bg-sky-100 overflow-hidden">
                        <img class="w-full h-full object-cover" src="/images/uploads/<%= elem.image %>" alt="">
                    </div>


                    <% })      %>

                        <%  }  else { %>
                            <p class="ml-5 font-light text-sm">No, post's yet.</p>
                            <% } %>
        </div>
    </div>
    <% include ./partials/footer.ejs %>